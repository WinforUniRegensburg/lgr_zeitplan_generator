<!DOCTYPE>
<html>
<head><title>Cleaner!</title></head>
<script type="text/javascript">
window.onload = function() {

	//var paragraphs = getParagraphesText();
    
	//TODO ---put in magic here---
	//has to parse the raw paragraphes to an structured events array. see the example events type...
	//This function will be started when the window is loaded
		
		
	//test data. That stuff below has to be generated out of the raw paragraphs
	
	//shows how to generate an object
	var singleEvent1 = new Event (	'2016.06.05', '12.00', 
									['f','f','f','f','f','f','f','f','f','f','f','f','f','f','f','f','f','f','f','f','f','f','f','f'],
									'100m Hindernis Finale', 'Vorprogramm');
	var singleEvent2 = new Event (	'2016.06.05', '11.15', 
									['f','f','f','f','f','f','f','f','f','f','f','f','f','f','f','f','f','f','f','f','f','f','f','f'],
									'100m Zeitlauf', 'Vorprogramm');	
	//puts objects in an array
	var events = [singleEvent1, singleEvent2];
	
	//shows an example for pushing a new event in the array
	var singleEvent3 = new Event (	'2016.06.05', '10.15', 
									['f','f','f','f','f','f','f','f','f','f','f','f','f','f','f','f','f','f','f','f','f','f','f','f'],
									'20min Power-Schach', 'Vorprogramm');
	events.push(singleEvent3);
	//end of example

	saveJSON(events);
	showJSONText();
}

function Event(date, time, category, discipline, eventName) {
	this.date = date;
	this.time = time;
	this.category = category;
	this.discipline = discipline;
	this.eventName = eventName;
}

//puts text in the HTML below "<pre id="displayArea"><pre>"
function showJSONText() {
	
	var json = sessionStorage.getItem('events');
	var events = JSON.parse(json);
	var myHTMLCode = "";
	for (var i=0; i<events.length; i++) {
		myHTMLCode = myHTMLCode + events[i].discipline + "</br>";
	}

    var area = document.getElementById('displayArea');
	area.innerHTML = myHTMLCode;
}

//saves the events
function saveJSON(events) {
	var json = JSON.stringify(events);			
	sessionStorage.getItem('events');
	sessionStorage.setItem('events',json);
}

//returns the paragraphText from the Paragraph handler before
function getParagraphesText() {
	return sessionStorage.getItem('paragraphText');
}

</script>
<body id="body">
	<!--<form id="submit" action="GenerateTable.html">-->
	<form id="submit" action=""> <!-- prevents you to get to the next page--->
		<!--<input type="submit" name="button" value="ok"/>-->
	</form>
<pre id="displayArea"><pre>
</form>
</body>
</html>